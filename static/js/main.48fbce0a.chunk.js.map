{"version":3,"sources":["data/store.js","data/actions.js","data/actionTypes.js","data/reducers.js","components/ChatHeader.js","components/Chats.js","components/TextInput.js","components/Topics.js","App.js","serviceWorker.js","index.js"],"names":["socket","addChannel","id","name","type","payload","setCurrentChannel","channelId","postMessage","from","message","topicId","INIT_CHANNEL","combineReducers","reducer","state","channels","currentChannel","chats","user","action","1","2","messageTopicId","sender","messageId","messages","filter","channel","userName","logger","store","next","console","log","result","getState","url","window","location","hostname","io","on","msg","updateChat","topic","addNewTopic","createStore","applyMiddleware","thunk","configureStore","addTopic","value","emit","dispatch","sendMessage","connect","setUser","Date","getTime","toString","updateUser","props","useState","setUserName","useEffect","displayRenameModal","document","querySelector","addEventListener","closeModal","removeEventListener","style","display","hideRenameModal","e","target","className","TextField","autoFocus","label","onChange","Button","variant","color","onClick","length","selectedTopic","getChats","setChats","List","aria-label","dense","ListItem","ListItemText","map","chat","key","selectedTopicId","postChat","setMessage","multiline","IconButton","topics","getTopics","setCurrentTopic","setTopics","newTopic","setNewTopic","component","button","primary","App","Grid","container","spacing","item","xs","Paper","paddingRight","paddingLeft","Boolean","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.48fbce0a.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport io from 'socket.io-client';\n\nimport {\n  addChannel,\n  postMessage,\n} from './actions';\nimport reducer from './reducers';\n\nconst logger = (store) => (next) => (action) => {\n  console.log('dispatching', action);\n  let result = next(action);\n  console.log('next state', store.getState());\n  return result;\n};\n\nlet socket;\n\nconst configureStore = () => {\n  if (!socket) {\n    let url = window.location.hostname === 'localhost'\n      ? ':3001'\n      : 'https://madi-chats.herokuapp.com/';\n    socket = io(url);\n\n    socket.on('chat message', msg => {\n      let {\n        id,\n        message,\n        topicId,\n        userName,\n      } = msg;\n\n      updateChat(userName, id, message, topicId);\n    });\n\n    socket.on('new topic', topic => {\n      let {\n        id,\n        name,\n      } = topic;\n\n      addNewTopic(id, name);\n    });\n  }\n\n  return createStore(reducer, applyMiddleware(logger, thunk));\n};\n\nlet store = configureStore();\n\nconst addTopic = value => {\n  socket.emit('new topic', value);\n}\n\nconst addNewTopic = (id, name) => {\n  store.dispatch(addChannel(id, name));\n}\n\nconst sendMessage = (value) => {\n  socket.emit('chat message', value);\n}\n\nconst updateChat = (userName, id, message, topicId) => {\n  store.dispatch(postMessage(userName, id, message, topicId));\n};\n\nexport {\n  addTopic,\n  sendMessage,\n  store,\n};\n","import { addTopic, sendMessage } from './store';\n\nimport {\n  ADD_CHANNEL,\n  GET_CHANNELS,\n  GET_CHATS,\n  POST_MESSAGE,\n  SET_CURRENT_CHANNEL,\n  SET_USER,\n} from './actionTypes';\n\nexport const addNewTopic = (name) => {\n  return (dispatch) => {\n    let id = `TOPIC_${new Date().getTime().toString(36)}`;\n\n    // emit message to server\n    addTopic({\n      id,\n      name,\n    });\n\n    dispatch(addChannel(id, name));\n\n    dispatch(setCurrentChannel(id));\n  };\n};\n\nexport const addChannel = (id, name) => {\n  return {\n    type: ADD_CHANNEL,\n    payload: {\n      id,\n      name,\n    },\n  };\n};\n\nexport const getChannels = () => {\n  return {\n    type: GET_CHANNELS,\n  };\n};\n\nexport const setCurrentChannel = (channelId) => {\n  return {\n    type: SET_CURRENT_CHANNEL,\n    payload: channelId,\n  };\n};\n\nexport const getChats = () => {\n  return {\n    type: GET_CHATS,\n  };\n};\n\nexport const postChat = (from, message, topicId) => {\n  return (dispatch) => {\n    let id = `MSG_${new Date().getTime().toString(36)}`;\n\n    // emit the message to the server for broadcasting\n    sendMessage({\n      id,\n      message,\n      topicId,\n      userName: from,\n    });\n\n    dispatch(postMessage(from, id, message, topicId));\n  };\n};\n\nexport const postMessage = (from, id, message, topicId) => {\n  return {\n    type: POST_MESSAGE,\n    payload: {\n      id,\n      message,\n      from,\n      topicId,\n    },\n  };\n};\n\nexport const setUser = () => {\n  return {\n    type: SET_USER,\n    payload: {\n      userName: `User_${new Date().getTime().toString(36)}`,\n    },\n  };\n};\n\nexport const updateUser = (userName) => {\n  return {\n    type: SET_USER,\n    payload: {\n      userName,\n    },\n  };\n};\n","export const ADD_CHANNEL = 'ADD_CHANNEL';\nexport const GET_CHANNELS = 'GET_CHANNELS';\nexport const SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\n\nexport const GET_CHATS = 'GET_CHATS';\n\nexport const POST_MESSAGE = 'POST_MESSAGE';\n\nexport const SET_USER = 'SET_USER';\n","import { combineReducers } from 'redux';\n\nimport {\n  ADD_CHANNEL,\n  GET_CHANNELS,\n  GET_CHATS,\n  POST_MESSAGE,\n  SET_CURRENT_CHANNEL,\n  SET_USER,\n} from './actionTypes';\n\nconst INIT_CHANNEL = {\n  id: 1,\n  name: 'general',\n};\n\nconst reducer = (\n  state = {\n    channels: [INIT_CHANNEL],\n    currentChannel: INIT_CHANNEL,\n    chats: [],\n    user: { name: '' },\n  },\n  action\n) => {\n  switch (action.type) {\n    case ADD_CHANNEL:\n      return {\n        ...state,\n        channels: [\n          ...state.channels,\n          action.payload,\n        ],\n      };\n    case GET_CHANNELS:\n      let channels = [\n        ...state.channels,\n        {\n          id: 1,\n          name: 'general',\n        },\n        {\n          id: 2,\n          name: 'personal',\n        },\n      ];\n\n      return {\n        ...state,\n        channels,\n      };\n    case GET_CHATS:\n      let chats = {\n        1: [\n          {\n            id: 1,\n            from: 'Mathioli',\n            topicId: 1,\n            message: 'Hello',\n          },\n          {\n            id: 2,\n            from: 'Sruthi',\n            topicId: 1,\n            message: 'Hi',\n          },\n        ],\n        2: [\n          {\n            id: 1,\n            from: 'Mathioli',\n            topicId: 2,\n            message: 'Oui',\n          },\n          {\n            id: 2,\n            from: 'Sruthi',\n            topicId: 2,\n            message: 'Hi',\n          },\n        ],\n      };\n\n      return {\n        ...state,\n        chats,\n      };\n    case POST_MESSAGE:\n      let messageTopicId = action.payload.topicId;\n      let message = action.payload.message;\n      let sender = action.payload.from;\n      let messageId = action.payload.id;\n\n      let messages = { ...state.chats };\n\n      if (!messages[messageTopicId]) {\n        messages[messageTopicId] = [];\n      }\n\n      messages[messageTopicId] = [\n        ...messages[messageTopicId],\n        {\n          id: messageId,\n          from: sender,\n          topicId: messageTopicId,\n          message,\n        },\n      ];\n\n      return {\n        ...state,\n        chats: messages,\n      };\n    case SET_CURRENT_CHANNEL:\n      let currentChannel = state.channels.filter(\n        (channel) => channel.id === action.payload\n      );\n\n      return {\n        ...state,\n        currentChannel: currentChannel[0],\n      };\n    case SET_USER:\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          name: action.payload.userName,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  reducer,\n});\n","import Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { setUser, updateUser } from '../data/actions';\n\nconst ChatHeader = props => {\n  const [userName, setUserName] = useState('');\n  \n  useEffect(() => {\n    props.setUser();\n    displayRenameModal();\n    document.querySelector('.backdrop').addEventListener('click', closeModal);\n\n    return () => {\n      document.querySelector('.backdrop').removeEventListener('click');\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setUserName(props.userName);\n  }, [props.userName]);\n\n  const handleChange = e => {\n    setUserName(e.target.value);\n  }\n\n  const displayRenameModal = () => {\n    document.querySelector('.backdrop').style.display = 'flex';\n  };\n\n  const hideRenameModal = () => {\n    document.querySelector('.backdrop').style.display = 'none';\n  };\n\n  const closeModal = e => {\n    if (e.target === document.querySelector('.backdrop')) {\n      hideRenameModal();\n    }\n  }\n\n  const updateUserName = () => {\n    if (userName.length !== 0) {\n      props.updateUser(userName);\n    }\n\n    hideRenameModal();\n  };\n\n  return (\n    <div className='chatHeader'>\n      <div className='backdrop'>\n        <div className='modal'>\n          <TextField\n            autoFocus\n            className='userNameInput'\n            label='Enter your name here...'\n            value={userName}\n            onChange={handleChange}\n          />\n          <Button\n            variant='contained'\n            color='primary'\n            onClick={updateUserName}\n          >\n            OK\n          </Button>\n        </div>\n      </div>\n      <h3>Chats</h3>\n      <h4>\n        Hello,\n        &nbsp;\n        <span\n          onClick={displayRenameModal}\n        >\n          {props.userName}\n        </span>\n      </h4>\n      <p>(Click the username to update it)</p>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setUser: () => dispatch(setUser()),\n  updateUser: (userName) => dispatch(updateUser(userName)),\n});\n\nconst mapStateToProps = state => ({\n  userName: state.reducer.user.name,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatHeader);\n","import List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { getChats } from '../data/actions';\n\nimport '../App.css';\n\nconst Chats = (props) => {\n  let [chats, setChats] = useState([]);\n\n  // useEffect(() => {\n  //   props.getChats();\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  useEffect(() => {\n    let messages = props.chats[props.selectedTopic.id] || [];\n\n    setChats(messages);\n  }, [props.chats, props.selectedTopic]);\n\n  return (\n    <List aria-label='Chat messages' className='chatText' dense>\n      {chats.length === 0 && (\n        <ListItem>\n          <ListItemText className='noChats'>\n            This is the first conversation in this topic\n          </ListItemText>\n        </ListItem>\n      )}\n      {chats.map((chat) => {\n        return (\n          <ListItem key={chat.id}>\n            <ListItemText>\n              <span className='sender'>{chat.from}</span>\n              &nbsp;\n              {chat.message}\n            </ListItemText>\n          </ListItem>\n        );\n      })}\n    </List>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  getChats: () => dispatch(getChats()),\n});\n\nconst mapStateToProps = (state) => ({\n  chats: state.reducer.chats,\n  selectedTopic: state.reducer.currentChannel,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chats);\n","import IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport SendIcon from '@material-ui/icons/Send';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { postChat } from '../data/actions';\n\nconst TextInput = props => {\n  const [message, setMessage] = useState('');\n\n  const handleChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const sendMessage = () => {\n    props.postMessage(props.selectedTopicId, message, props.userName);\n\n    setMessage('');\n  };\n\n  return (\n    <div className='footerItemsWrapper'>\n      <TextField\n        className='messageInput'\n        label='Enter message here...'\n        multiline\n        variant='filled'\n        value={message}\n        onChange={handleChange}\n      />\n      <IconButton\n        aria-label='send message'\n        color='primary'\n        onClick={sendMessage}\n      >\n        <SendIcon />\n      </IconButton>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  postMessage: (topicId, message, from) =>\n    dispatch(postChat(from, message, topicId)),\n});\n\nconst mapStateToProps = (state) => ({\n  selectedTopicId: state.reducer.currentChannel.id,\n  userName: state.reducer.user.name,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextInput);\n","import Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TextField from '@material-ui/core/TextField';\nimport AddIcon from '@material-ui/icons/Add';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport '../App.css';\n\nimport {\n  addNewTopic,\n  getChannels,\n  setCurrentChannel,\n} from '../data/actions';\n\nconst Topics = props => {\n  let [topics, setTopics] = useState([]);\n  let [newTopic, setNewTopic] = useState('');\n  \n  useEffect(() => {\n    // props.getTopics();\n    document.querySelector('.topicBackdrop').addEventListener('click', closeModal);\n\n    return () => {\n      document.querySelector('.topicBackdrop').removeEventListener('click');\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setTopics(props.topics);\n  }, [props.topics]);\n\n  const handleChange = e => {\n    setNewTopic(e.target.value);\n  }\n\n  const displayRenameModal = () => {\n    setNewTopic('');\n    document.querySelector('.topicBackdrop').style.display = 'flex';\n  };\n\n  const hideRenameModal = () => {\n    document.querySelector('.topicBackdrop').style.display = 'none';\n  };\n\n  const closeModal = e => {\n    if (e.target === document.querySelector('.topicBackdrop')) {\n      hideRenameModal();\n    }\n  }\n\n  const addNewTopic = () => {\n    if (newTopic.length !== 0) {\n      props.addNewTopic(newTopic);\n    }\n\n    hideRenameModal();\n  };\n\n  return (\n    <div>\n      <div className='topicBackdrop'>\n        <div className='modal'>\n          <TextField\n            autoFocus\n            className='topicInput'\n            label='Enter new topic name here...'\n            value={newTopic}\n            onChange={handleChange}\n          />\n          <Button\n            variant='contained'\n            color='primary'\n            onClick={addNewTopic}\n          >\n            OK\n          </Button>\n        </div>\n      </div>\n      <List\n        className='chatText'\n        component='nav'\n        dense\n        aria-label='Chat topics'\n      >\n        <ListItem>\n          <ListItemText\n            className='topicTitle'\n          >\n            Topics\n          </ListItemText>\n          <IconButton\n            aria-label='Add new topic'\n            className='newTopicButton'\n            color='default'\n            onClick={displayRenameModal}\n          >\n            <AddIcon />\n          </IconButton>\n        </ListItem>\n        {\n          topics.map(topic => {\n            return (\n              <ListItem\n                className={`topics ${props.selectedTopic.id === topic.id ? 'activeTopic' : ''}`}\n                key={topic.id}\n                button\n                onClick={() => props.setCurrentTopic(topic.id)}\n              >\n                <ListItemText\n                  primary={topic.name}\n                />\n              </ListItem>\n            );\n          })\n        }\n      </List>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addNewTopic: (name) => dispatch(addNewTopic(name)),\n  getTopics: () => dispatch(getChannels()),\n  setCurrentTopic: (id) => dispatch(setCurrentChannel(id)),\n});\n\nconst mapStateToProps = state => ({\n  topics: state.reducer.channels,\n  selectedTopic: state.reducer.currentChannel,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Topics);\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport React from 'react';\n\nimport ChatHeader from './components/ChatHeader';\nimport Chats from './components/Chats';\nimport TextInput from './components/TextInput';\nimport Topics from './components/Topics';\n\nimport './App.css';\n\nimport 'fontsource-roboto';\n\nfunction App(props) {\n  return (\n    <div className='root'>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Paper className='paper'>\n            <ChatHeader />\n          </Paper>\n        </Grid>\n        <Grid item xs={3} style={{ paddingRight: 0 }}>\n          <Paper className='paper topicWindow'>\n            <Topics />\n          </Paper>\n        </Grid>\n        <Grid item xs={9} style={{ paddingLeft: 0 }}>\n          <Paper className='paper chatWindow'>\n            <Chats />\n          </Paper>\n        </Grid>\n        <Grid className='footer' item xs={12}>\n          <Paper className='paper messageInputContainer'>\n            <TextInput />\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { store } from './data/store';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}